<!DOCTYPE html>
<html>
<head>
    <title>Advanced Functions</title>
</head>
<body>
    <button onclick="" class="js-click-button">click</button>
    <script>
      const buttonElement = document.querySelector('.js-click-button');

      const click1 = () => {
        console.log('Button is clicked');
      };
      

      // this is better than onclick because we can add multiple functions to the same event
      buttonElement.addEventListener('click', click1);// 没有()
      buttonElement.addEventListener('click', function() {
        console.log('Button is clicked');
      });
      buttonElement.removeEventListener('click', click1);

      // function is also a value,which means it can be assigned to a variable
      const greetFunction = function greeting(name) {
        console.log(`Hello, ${name}`);
      };

      // anonymous function(function without a name)
      const greetFunction2 = function(name) {
        console.log(`Hello, ${name}`);
      };
      greetFunction('Jennie');
      greetFunction2('Rustin');

      // what can we do with the function value?
      // 1.save it into an object
      const object1 = {
        name: 'Jennie',
        greet: function(name) {
          console.log(`Hello, ${name}`);
        }
      };

      // 2.pass it as an argument,,this is called callback function
      function greet(name, greetFunction) {
        greetFunction(name);
      }
      // asynchronous function(computer won't wait for the setTimeout to finish)
      setTimeout(greet('Jennie', greetFunction), 3000);
      setInterval(greet('Rustin', greetFunction), 6000);
      console.log('This is printed first');

      // arrow function
      const arrowFunction = (name) => {
        console.log(`Hello, ${name}`);
      };
      // arrow function with one parameter
      // const arrowFunction = name => console.log(`Hello, ${name}`);
      arrowFunction('Rustin');

      // map function and filter function
      const array1 = [1, 2, 3, 4];
      const filtered = array1.filter((numbers, index)=>{
        if(numbers % 2 === 0 && index > 1) {
          return true;
        }
      });
      console.log(filtered); 
      
      const mapped = array1.map((numbers)=>{
        return String(numbers * 2);
      })
      console.log(mapped);
    </script>
</body>
</html>